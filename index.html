<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta http-equiv="Encoding" content="utf-8">
  <meta name="theme-color" content="#800">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta http-equiv="Content-Security-Policy" content="
      default-src 'self';
      connect-src 'self' localhost:3921;
      img-src 'self' data: blob: *.tile.openstreetmap.org;
      media-src 'self' blob:;
      script-src 'self' 'unsafe-eval' cdn.rawgit.com;
      worker-src 'self';
      style-src 'self' 'unsafe-inline' cdn.rawgit.com;
      upgrade-insecure-requests;
  ">

  <title>I've Been Here</title>

  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" sizes="192x192" href="icons/192.png">
  <link rel="stylesheet" href="css/common.css">

  <script data-main="bin/index.js" src="bin/amd.js" async></script>
</head>

<body>
  <div id="logs" style="display:none"></div>
  <div id="debug">
    <button class="btn" id="show-logs">Logs</button>
    <button class="btn" id="reset-ls">Reset</button>
  </div>

  <!-- The registration page. -->

  <div id="p-reg" class="page">
    <div id="photo-frame">
      <button class="btn">Upload Photo</button>
      <img id="photo">
      <!-- This hidden <input> is used to upload a file. -->
      <input id="upload-input" type="file" accept="image/*">
    </div>
    <div id="reg-name-group">
      <div id="name-tag">Your name:</div>
      <input id="reg-name" type="text">
    </div>
    <div id="reg-err"></div>
    <div id="reg-nav">
      <button class="btn" id="reg-done">Next</button>
    </div>
  </div>

  <!-- Map with all visited places. -->

  <div id="p-places" class="page">
    <div id="all-places"></div>
  </div>

  <!-- Lst of other visitors nearby. -->

  <div id="p-nearby" class="page">
    <div id="nearby-status"></div>
    <div id="visitors"></div>
  </div>

  <!-- The main page with the map. -->

  <div id="p-map" class="page">
    <div id="map"></div>
    <span id="no-gps"></span>
    <div id="controls">
      <a href="?page=user">
        <img id="userpic">
      </a>
      <img id="show-places" src="icons/globe.png">
      <a href="?page=unread">
        <img id="show-unread-messages" src="icons/chat.png">
      </a>
    </div>
    <button class="btn" id="send">I've Been Here!</button>
  </div>

  <!-- The 1:1 chat page. -->

  <div id="p-chat" class="page">
    <div id="u-header">
      <img id="chat-u-icon" src="/favicon.ico" />
      <span id="chat-u-name">FooBar</span>
    </div>
    <div id="messages"></div>
    <div id="u-footer">
      <div id="reply-text" contenteditable></div>
      <span id="reply-send">&#x25b6;</span>
    </div>
  </div>
</body>

</html>